<?xml version="1.0" encoding="UTF-8" ?>

<!--
Source lookups are done from leaf most node to the root.
Every collectors must be configured with
One collector
One formatters
One or more sinks

Each sinks must be configured with one trigger
-->
<metrics4j>
	<sources name="ROOT">
		<!-- defaults are declared at the root -->
		<collector ref="Counter"/>

		<source name="org" configuration="strict"> <!-- strict requires a configuration for every collectors, no default behavior -->
			<source name="kairosdb">
				<source name="metrics">
					<source name="BlastMetrics">
						<collector ref="Timer"/>
					</source>
					<sink ref="slf4j"/>
				</source>
			</source>
		</source>
	</sources>
	<sinks>
		<sink name="slf4j" class="org.kairosdb.metrics4j.sinks.Slf4JMetricSink" logLevel="error"/>
	</sinks>
	<collectors>
		<collector name="Counter" class="org.kairosdb.metrics4j.collectors.LongCounter"/>
		<collector name="Timer" class="org.kairosdb.metrics4j.collectors.SimpleTimerMetric"/>
	</collectors>
	<formatters>

	</formatters>

	<triggers> <!-- determines when to collect metrics -->

	</triggers>
</metrics4j>